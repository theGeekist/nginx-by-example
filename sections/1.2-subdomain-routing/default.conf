server {
    listen 80 default_server;
    server_name _;
    return 301 https://$host:8443$request_uri;   
}
server {
    listen 443 ssl;
    server_name freebies.localhost;
    include /etc/nginx/sites-enabled/ssl_params;

    location / {
        return 200 "freebies.localhost";
    }
}
server {
    listen 443 ssl;
    server_name test.localhost;
    include /etc/nginx/sites-enabled/ssl_params;

    location / {
        return 200 "test.localhost";
    }
}